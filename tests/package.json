{
  "name": "@partpal/tests",
  "version": "1.0.0",
  "private": true,
  "description": "Comprehensive testing suite for PartPal platform",
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:unit": "jest --testPathPattern=unit",
    "test:integration": "jest --testPathPattern=integration",
    "test:e2e": "playwright test",
    "test:e2e:headed": "playwright test --headed",
    "test:e2e:debug": "playwright test --debug",
    "test:accessibility": "pa11y-ci --sitemap http://localhost:3000/sitemap.xml",
    "test:performance": "k6 run performance/load-test.js",
    "test:security": "jest --testPathPattern=security",
    "test:visual": "percy exec -- playwright test",
    "test:all": "npm run test:unit && npm run test:integration && npm run test:e2e",
    "test:ci": "npm run test:coverage && npm run test:e2e && npm run test:accessibility",
    "lint": "eslint . --ext .ts,.tsx,.js,.jsx",
    "typecheck": "tsc --noEmit",
    "setup": "playwright install && npm run setup:test-db",
    "setup:test-db": "cd ../packages/database && npm run db:migrate"
  },
  "dependencies": {
    "@partpal/shared-types": "workspace:*",
    "@partpal/shared-ui": "workspace:*",
    "@partpal/api-client": "workspace:*",
    "@partpal/database": "workspace:*"
  },
  "devDependencies": {
    "@jest/globals": "^29.0.0",
    "@types/jest-axe": "^3.1.2",
    "@playwright/test": "^1.40.0",
    "@testing-library/jest-dom": "^6.0.0",
    "@testing-library/react": "^14.0.0",
    "@testing-library/user-event": "^14.0.0",
    "@types/jest": "^29.0.0",
    "@types/node": "^20.0.0",
    "@types/supertest": "^6.0.0",
    "axe-core": "^4.8.0",
    "axe-playwright": "^1.2.0",
    "eslint": "^8.0.0",
    "jest": "^29.0.0",
    "jest-axe": "^8.0.0",
    "jest-environment-jsdom": "^29.0.0",
    "msw": "^2.0.0",
    "pa11y-ci": "^3.0.0",
    "percy-playwright": "^1.0.0",
    "playwright": "^1.40.0",
    "supertest": "^6.3.0",
    "testcontainers": "^10.0.0",
    "ts-jest": "^29.0.0",
    "ts-node": "^10.0.0",
    "typescript": "^5.0.0"
  },
  "jest": {
    "preset": "ts-jest",
    "testEnvironment": "jsdom",
    "setupFilesAfterEnv": [
      "<rootDir>/setup/jest.setup.ts"
    ],
    "moduleNameMapping": {
      "^@/(.*)$": "<rootDir>/$1",
      "^@partpal/shared-ui$": "<rootDir>/../packages/shared-ui/src/index.ts",
      "^@partpal/shared-types$": "<rootDir>/../packages/shared-types/src/index.ts",
      "^@partpal/shared-utils$": "<rootDir>/../packages/shared-utils/src/index.ts",
      "^@partpal/database$": "<rootDir>/../packages/database/src/index.ts",
      "^@partpal/(.*)$": "<rootDir>/../packages/$1/src"
    },
    "transform": {
      "^.+\\.(ts|tsx)$": [
        "ts-jest",
        {
          "useESM": false,
          "tsconfig": {
            "jsx": "react-jsx",
            "esModuleInterop": true,
            "allowSyntheticDefaultImports": true
          }
        }
      ]
    },
    "collectCoverageFrom": [
      "../apps/**/*.{ts,tsx}",
      "../packages/**/*.{ts,tsx}",
      "../services/**/*.{ts,tsx}",
      "!**/*.d.ts",
      "!**/node_modules/**",
      "!**/dist/**",
      "!**/*.stories.{ts,tsx}"
    ],
    "coverageThreshold": {
      "global": {
        "branches": 80,
        "functions": 80,
        "lines": 80,
        "statements": 80
      }
    },
    "testMatch": [
      "<rootDir>/**/*.test.{ts,tsx}",
      "<rootDir>/**/*.spec.{ts,tsx}"
    ],
    "globals": {
      "ts-jest": {
        "useESM": false
      }
    }
  }
}